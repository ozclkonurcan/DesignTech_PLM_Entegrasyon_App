


@using DesignTech_PLM_Entegrasyon_App.MVC.Models.Log;
@using static DesignTech_PLM_Entegrasyon_App.MVC.Controllers.LogController

@model List<ExcelLogEntry>

@{
    ViewBag.Title = "View JSON Log Files";
}

<h2>JSON Log Files </h2>
<span class="badge py-3 px-4 fs-7 badge-light-primary"> @ViewBag.jsonFilePath </span>

@if (Model != null && Model.Any())
{
    <div class="table-responsive">
        <table class="table align-middle table-row-dashed fs-6 gy-5 dataTable no-footer" id="ExcelLogTables">
            <thead>
                <tr class="text-start text-muted fw-bold fs-7 text-uppercase gs-0">
                    <th>Dosya İsmi</th>
                    <th>Mesaj</th>
                    <th>İşlem</th>
                    <th>İşlem Tarihi</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var logEntry in Model)
                {
                    <tr class="alert alert-danger">
                        <td><span class="badge py-3 px-4 fs-7 badge-light-primary">@logEntry.ExcelDosya</span></td>
                     
                        
                            <td>@logEntry.Text</td>
                        
                        @if(logEntry.Operation == "Yüklendi")
                        {
                            <td>
                                <span class="badge py-3 px-4 fs-7 badge-light-success">@logEntry.Operation</span>

                            </td>
                        }
                        @if (logEntry.Operation == "Silme")
                        {
                            <td> <span class="badge py-3 px-4 fs-7 badge-light-danger"> @logEntry.Operation</span></td>
                        }
                        <td>@logEntry.islemTarihi</td>

                  
                    </tr>

                }
            </tbody>
        </table>
    </div>







}
else
{
    <p>No JSON files found in this date folder.</p>
}






@section scripts {

    <script>
        $(document).ready(function () {
            $('#ExcelLogTables').DataTable({
                "pageLength": 5,
                "info": false,
                "ordering": false,
                "dom": 'Bfrtip',
                "language": {
                    "url": "//cdn.datatables.net/plug-ins/1.11.6/i18n/Turkish.json",
                    "search": "",
                    "searchPlaceholder": "Log Ara ...",
                    "sInfo": "Toplam _TOTAL_ kayıt arasından _START_ - _END_ arasındaki kayıtlar gösteriliyor",
                    "sInfoFiltered": "(toplam _MAX_ kayıttan süzülmüş)",
                }
            });

  

        });
    </script>


    <script>

    </script>
}
